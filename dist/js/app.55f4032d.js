(function(e){function t(t){for(var r,o,i=t[0],u=t[1],c=t[2],d=0,p=[];d<i.length;d++)o=i[d],s[o]&&p.push(s[o][0]),s[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==s[u]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},s={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/meteo_vue/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0db7":function(e,t,n){},1266:function(e,t,n){"use strict";var r=n("d7a8"),s=n.n(r);s.a},"1bc8":function(e,t,n){"use strict";var r=n("a513"),s=n.n(r);s.a},2291:function(e,t,n){},"2d3e":function(e,t,n){"use strict";var r=n("5039"),s=n.n(r);s.a},"41fd":function(e,t,n){"use strict";var r=n("9c31"),s=n.n(r);s.a},"458f":function(e,t,n){},"4a14":function(e,t,n){},5039:function(e,t,n){},5094:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d"),n("e7eb");var r=n("2b0e"),s=n("8c4f"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"main"}},[n("section",{attrs:{id:"pageTitle"}},[e._v("Stacja meteo Rypin")]),n("div",[n("Nav",{attrs:{endpointCurrent:e.endpointCurrent,isLoaded:e.isLoaded,showInfo:e.showInfo}}),n("AnimateCSS",{attrs:{enter:"lightSpeedIn",leave:"lightSpeedOut"}},[n("keep-alive",[n("router-view")],1)],1)],1),n("Preloader"),e._m(0)],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",[n("hr"),n("div",[e._v("Wachcio © 2018")])])}],i=(n("ac4d"),n("8a81"),n("ac6a"),n("be94")),u=n("bc3a"),c=n.n(u),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded||e.sensorsCurrent.length,expression:"isLoaded || sensorsCurrent.length"}],staticClass:"readings"},[n("div",{staticClass:"wrapper"},e._l(4,function(t){return n("div",{key:t,staticClass:"sensorTitle"},[t>1?n("div",{staticClass:"hrWrapper"},[n("hr",{staticClass:"hr1"}),n("hr",{staticClass:"hr2"}),n("hr")]):e._e(),n("h1",{staticClass:"categoryTitle",on:{click:function(n){e.categoryClick(t-1)}}},[e._v(e._s(e.h1Title(e.sensorsCurrent[e.newCategoryIndex[t-1]])))]),n("AnimateCSS",{attrs:{enter:"lightSpeedIn",leave:"lightSpeedOut"}},[e.categoryVisible[t-1]?n("div",{staticClass:"sensorWrapper"},[e._l(e.sensorsToCategory(t),function(e,t){return n("div",{key:t},[n("Sensor",{attrs:{sensorCurrent:e}})],1)}),4==t?n("AirQualityWidget"):e._e()],2):e._e()])],1)})),n("Transition",{attrs:{name:"fade"}},[e.showInfo?n("InfoBox"):e._e()],1)],1)},d=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"sensor",on:{click:function(t){return t.preventDefault(),e.clickSensor(t)}}},[n("SensorTitle",{attrs:{sensorCurrent:e.sensorCurrent}}),n("SensorIcon",{class:e.checkDate(),attrs:{sensorCurrent:e.sensorCurrent}}),n("SensorValues",{attrs:{sensorCurrent:e.sensorCurrent}})],1)])},m=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[e._v(e._s(e.sensorCurrent.sensorName))])},v=[],f={name:"SensorTitle",props:{sensorCurrent:Object},data:function(){return{}},methods:{}},y=f,w=(n("2d3e"),n("2877")),_=Object(w["a"])(y,h,v,!1,null,"efc52772",null);_.options.__file="SensorTitle.vue";var b=_.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon",class:"Kierunek wiatru"==e.sensorCurrent.sensorName?"windDirection":null},[n("img",{attrs:{src:e.windIconCorrection(e.sensorCurrent)}})])},k=[],z={name:"SensorIcon",props:{sensorCurrent:Object},methods:{windIconCorrection:function(e){var t="";return t="Kierunek wiatru"===e.sensorName?"http://wachcio.pl/meteo_vue/"+e.picture:"./assets/"+e.picture,t}}},C=z,j=(n("cd1e"),Object(w["a"])(C,g,k,!1,null,"6690a60b",null));j.options.__file="SensorIcon.vue";var x=j.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"value",class:"Kierunek wiatru"==e.sensorCurrent.sensorName?"center":null},["Kierunek wiatru"!==e.sensorCurrent.sensorName?n("img",{attrs:{src:"./assets/strzalka_przezroczysta.png"}}):e._e(),e._v("\n      "+e._s(e.sensorValue(e.sensorCurrent,1))+"\n    ")]),n("div",{staticClass:"value"},["Kierunek wiatru"!==e.sensorCurrent.sensorName?n("img",{attrs:{src:"./assets/strzalka_czerwona.png"}}):e._e(),e._v("\n      "+e._s(e.sensorValue(e.sensorCurrent,2))+"\n    ")]),n("div",{staticClass:"value"},["Kierunek wiatru"!==e.sensorCurrent.sensorName?n("img",{attrs:{src:"./assets/strzalka_niebieska.png"}}):e._e(),e._v("\n      "+e._s(e.sensorValue(e.sensorCurrent,3))+"\n    ")])])},O=[],I={name:"SensorValues",props:{sensorCurrent:Object},methods:{sensorValue:function(e,t){var n="";if("Opady"===e.sensorName){switch(t){case 1:n=e.valueCurrent.value+" mm/min";break;case 2:n=e.valueMax.value+" mm/h";break;case 3:n=e.valueMin.value+" mm/d";break}return n}switch(t){case 1:return e.valueCurrent.value+" "+e.unit;case 2:return e.valueMax.value+" "+e.unit;case 3:return e.valueMin.value+" "+e.unit}}}},N=I,D=(n("d593"),Object(w["a"])(N,S,O,!1,null,"50c9bf5a",null));D.options.__file="SensorValues.vue";var A=D.exports,M=n("1315"),P=n("2f62"),T={name:"Sensor",props:{sensorCurrent:Object},data:function(){return{upToDate:!0,sensorHint:""}},components:{SensorTitle:b,SensorIcon:x,SensorValues:A},methods:Object(i["a"])({},Object(P["d"])(["updateSensorsCurrent"]),Object(P["b"])(["getCurrentJSON"]),{clickSensor:function(){this.$store.commit("sensorActive",this.sensorCurrent),this.$store.commit("showInfo",!0)},diffDate:function(e,t){var n=M["DateTime"].fromSQL(e),r=M["DateTime"].local(),s=r.diff(n,["days","hours","minutes","seconds"]).toObject(),a="";return s.days&&(a+=s.days+" dni, "),s.hours&&(a+=s.hours+" godzin/y, "),s.minutes&&(a+=s.minutes+" minut/y, "),s.seconds&&(a+=Math.floor(s.seconds)+" sekund"),a},checkDate:function(){var e=new Date(this.sensorCurrent.valueCurrent.date),t=Math.floor((new Date-e)/6e4);return t>4?{error:!0}:{}},tooltip:function(e){return"Ostatni odczyt "+this.sensorCurrent.valueCurrent.value+this.sensorCurrent.unit+" ("+this.diffDate(this.sensorCurrent.valueCurrent.date,e)+" temu)"}}),computed:Object(i["a"])({},Object(P["e"])(["sensorsCurrent","isLoaded","showInfo","sensorActive"])),watch:{currentDate:function(e,t){this.tooltip()}},mounted:function(){this.tooltip()}},$=T,H=(n("9784"),Object(w["a"])($,p,m,!1,null,"48130e7c",null));H.options.__file="Sensor.vue";var J=H.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"info",on:{click:e.clickInfo}},[n("h1",[e._v(e._s(e.sensorData.sensorName))]),n("p",[e._v(e._s(e.info(e.sensorData,"current")))]),n("p",[e._v(e._s(e.info(e.sensorData,"max")))]),n("p",[e._v(e._s(e.info(e.sensorData,"min")))])])},E=[],F={name:"InfoBox",props:{},data:function(){return{}},methods:{clickInfo:function(){this.$store.commit("showInfo",!1)},checkDate:function(e,t){var n=new Date,r=new Date(e),s=Math.floor((n-r)/6e4);return t<s?"error":null},diffDate:function(e){var t=M["DateTime"].fromSQL(e),n=M["DateTime"].local(),r=n.diff(t,["days","hours","minutes","seconds"]).toObject(),s="";return r.days&&(s+=r.days+" dni, "),r.hours&&(s+=r.hours+" godzin/y, "),r.minutes&&(s+=r.minutes+" minut/y, "),r.seconds&&(s+=Math.floor(r.seconds)+" sekund"),s},info:function(e,t){var n="";return"current"==t&&(n="Aktualny odczyt: ".concat(e.valueCurrent.value," ").concat(e.unit," (").concat(e.valueCurrent.date," czyli ").concat(this.diffDate(e.valueCurrent.date)," temu)")),"max"==t&&(n="Najwyższy odczyt z ostatniej doby: ".concat(e.valueMax.value," ").concat(e.unit," (").concat(e.valueMax.date," czyli ").concat(this.diffDate(e.valueMax.date)," temu)")),"min"==t&&(n="Najniższy odczyt z ostatniej doby: ".concat(e.valueMin.value," ").concat(e.unit," (").concat(e.valueMin.date," czyli ").concat(this.diffDate(e.valueMin.date)," temu)")),"Kierunek wiatru"!=e.sensorName&&"Opady"!=e.sensorName||(n="Od ostatniego odczytu minęło: ".concat(this.diffDate(e.valueCurrent.date))),("Kierunek wiatru"==e.sensorName&&"max"==t||"Opady"==e.sensorName&&"max"==t)&&(n=""),("Kierunek wiatru"==e.sensorName&&"min"==t||"Opady"==e.sensorName&&"min"==t)&&(n=""),n}},computed:{sensorData:function(){return this.$store.state.sensorActive}},created:function(){M["DateTime"].local()}},K=F,R=(n("ef8f"),Object(w["a"])(K,L,E,!1,null,"51aa659c",null));R.options.__file="InfoBox.vue";var W=R.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("iframe",{attrs:{id:e.airly_305987675,src:"https://airly.eu/map/widget.html#lat=53.06277&lng=19.41194&id=2944&w=314&h=266&l=pl&m=true&i=true&ah=true&aw=true"}})])},G=[],B={name:"AirQualityWidget",props:{},data:function(){return{}},components:{},watch:{}},Q=B,U=(n("f165"),Object(w["a"])(Q,V,G,!1,null,"4fd8969d",null));U.options.__file="AirQualityWidget.vue";var Y=U.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{mode:"out-in",appear:e.appear,"enter-active-class":"animated "+e.enter,"leave-active-class":"animated "+e.leave}},[e._t("default")],2)},q=[],X={name:"AnimateCSS",props:["appear","enter","leave"],data:function(){return{}}},ee=X,te=(n("1266"),Object(w["a"])(ee,Z,q,!1,null,"30a2e722",null));te.options.__file="AnimateCSS.vue";var ne=te.exports,re={name:"SensorCategory",props:{},data:function(){return{newCategoryIndex:[0,16,30,34],currentDate:void 0,categoryVisible:[!0,!0,!0,!0],sensorData:void 0}},methods:Object(i["a"])({},Object(P["d"])(["updateSensorsCurrent"]),Object(P["b"])(["getCurrentJSON"]),{sensorsToCategory:function(e){return this.sensorsCurrent.filter(function(t){return t.sensorCategoryNr==e})},sensorActiveData:function(e){this.sensorData=e},h1Title:function(e){return void 0!==e?e.sensorCategoryTitle:null},categoryClick:function(e){this.categoryVisible.splice(e,1,!this.categoryVisible[e])}}),computed:Object(i["a"])({},Object(P["e"])(["sensorsCurrent","isLoaded","showInfo","sensorActive"])),components:{Sensor:J,InfoBox:W,AirQualityWidget:Y,AnimateCSS:ne},watch:{},created:function(){}},se=re,ae=(n("f65f"),Object(w["a"])(se,l,d,!1,null,"eb24f21e",null));ae.options.__file="SensorCategory.vue";var oe=ae.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("div",{staticClass:"container"},[n("div",{staticClass:"item refresh",on:{click:function(t){e.getCurrentJSON()}}},[e._v("Odśwież dane")]),n("router-link",{staticClass:"item current",attrs:{to:"/current",tag:"div","active-class":"active",exact:""}},[e._v("Odczyty aktualne")]),n("router-link",{staticClass:"item archive",attrs:{to:"/archive",tag:"div","active-class":"active"}},[e._v("Odczyty archiwalne")]),n("router-link",{staticClass:"item about",attrs:{to:"about",tag:"div","active-class":"active"}},[e._v("O projekcie")])],1)])},ue=[],ce={name:"Nav",props:{},computed:Object(i["a"])({},Object(P["e"])(["sensorsCurrent","isLoaded","showInfo"])),methods:Object(i["a"])({},Object(P["d"])(["updateSensorsCurrent"]),Object(P["b"])(["getCurrentJSON"]))},le=ce,de=(n("595d"),Object(w["a"])(le,ie,ue,!1,null,"998acb74",null));de.options.__file="Nav.vue";var pe=de.exports,me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isLoaded||e.sensorsCurrent.length?e._e():r("div",{attrs:{id:"preloader"}},[r("img",{attrs:{src:n("a944")}})])},he=[],ve={name:"Sensor",props:{},data:function(){return{}},components:{},computed:Object(i["a"])({},Object(P["e"])(["sensorsCurrent","isLoaded","showInfo","sensorActive"])),watch:{},methods:{}},fe=ve,ye=(n("41fd"),Object(w["a"])(fe,me,he,!1,null,"1bb8b667",null));ye.options.__file="Preloader.vue";var we=ye.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h1",[e._v("Archiwum odczytów")]),n("ArchivesForm",{attrs:{sensorsNames:e.sensorsNames}})],1)},be=[],ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"archiveFormContainer"},[n("label",{attrs:{for:"archiveForm"}},[e._v("Wybierz datę lub okres dla którego zostaną wyświetlone statystyki")]),n("form",{attrs:{id:"archiveForm"}},[n("label",{attrs:{for:"sensor"}},[e._v("Czujnik")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.sensorIndex,expression:"sensorIndex"}],attrs:{name:"sensor",id:"sensor"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.sensorIndex=t.target.multiple?n:n[0]}}},e._l(e.sensorsNames,function(t,r){return n("option",{key:r,domProps:{value:r}},[e._v(e._s(t))])})),n("div",[n("label",{attrs:{for:"year"}},[e._v("Rok")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],attrs:{type:"number",name:"year",id:"year",min:"2016",max:"2030"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}})]),n("div",{staticClass:"checkboxGroup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.useMonth,expression:"useMonth"}],attrs:{type:"checkbox",name:"useMonth",id:"useMonth"},domProps:{checked:Array.isArray(e.useMonth)?e._i(e.useMonth,null)>-1:e.useMonth},on:{change:function(t){var n=e.useMonth,r=t.target,s=!!r.checked;if(Array.isArray(n)){var a=null,o=e._i(n,a);r.checked?o<0&&(e.useMonth=n.concat([a])):o>-1&&(e.useMonth=n.slice(0,o).concat(n.slice(o+1)))}else e.useMonth=s}}}),n("label",{attrs:{for:"useMonth"}},[e._v("miesiąc")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"month"}],attrs:{type:"number",name:"month",id:"month",min:"1",max:"12",disabled:!e.useMonth},domProps:{value:e.month},on:{input:function(t){t.target.composing||(e.month=t.target.value)}}})]),n("div",{staticClass:"checkboxGroup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.useDay,expression:"useDay"}],attrs:{type:"checkbox",id:"useDay",disabled:!e.useMonth},domProps:{checked:Array.isArray(e.useDay)?e._i(e.useDay,null)>-1:e.useDay},on:{change:function(t){var n=e.useDay,r=t.target,s=!!r.checked;if(Array.isArray(n)){var a=null,o=e._i(n,a);r.checked?o<0&&(e.useDay=n.concat([a])):o>-1&&(e.useDay=n.slice(0,o).concat(n.slice(o+1)))}else e.useDay=s}}}),n("label",{attrs:{for:"useDay"}},[e._v("dzień")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.day,expression:"day"}],attrs:{type:"number",name:"day",id:"day",min:"1",max:"31",disabled:!e.useMonth||!e.useDay},domProps:{value:e.day},on:{input:function(t){t.target.composing||(e.day=t.target.value)}}})]),n("div",{staticClass:"checkboxGroup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.useHour,expression:"useHour"}],attrs:{type:"checkbox",id:"useHour",disabled:!e.useMonth||!e.useDay},domProps:{checked:Array.isArray(e.useHour)?e._i(e.useHour,null)>-1:e.useHour},on:{change:function(t){var n=e.useHour,r=t.target,s=!!r.checked;if(Array.isArray(n)){var a=null,o=e._i(n,a);r.checked?o<0&&(e.useHour=n.concat([a])):o>-1&&(e.useHour=n.slice(0,o).concat(n.slice(o+1)))}else e.useHour=s}}}),n("label",{attrs:{for:"useHour"}},[e._v("godzina")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.hour,expression:"hour"}],attrs:{type:"number",name:"hour",id:"hour",min:"0",max:"23",disabled:!e.useMonth||!e.useDay||!e.useHour},domProps:{value:e.hour},on:{input:function(t){t.target.composing||(e.hour=t.target.value)}}})]),n("input",{attrs:{type:"submit",id:"archiveShowResult",value:"Wyświetl wyniki"},on:{click:function(t){return t.preventDefault(),e.formSend(t)}}})]),e.JSONerror?n("div",{attrs:{id:"result"}},[n("h2",[e._v("Podano zły okres")])]):e._e(),e.isResponse&&!e.JSONerror?n("div",{attrs:{id:"result"}},[n("h2",[e._v('Wyniki dla czujnika "'+e._s(e.responseMax.sensorName)+'" za okres '+e._s(e.responsePeriod)+":")]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.windDirectionIndex!==e.sensorIndex,expression:"windDirectionIndex !== sensorIndex"}]},[e._v("Najwyższy odczyt: "+e._s(e.responseMax.value)+e._s(e.responseMax.unit))]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.windDirectionIndex!==e.sensorIndex,expression:"windDirectionIndex !== sensorIndex"}]},[e._v("Najniższy odczyt: "+e._s(e.responseMin.value)+e._s(e.responseMin.unit))]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.windDirectionIndex!==e.sensorIndex,expression:"windDirectionIndex !== sensorIndex"}]},[e._v("Średni odczyt: "+e._s(e.responseAvg.value)+e._s(e.responseAvg.unit))]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.sensorIndex==e.rainIndex,expression:"sensorIndex==rainIndex"}]},[e._v("Suma: "+e._s(e.responseSum.value)+e._s(e.responseMax.unit))]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.sensorIndex==e.windDirectionIndex,expression:"sensorIndex==windDirectionIndex"}]},[e._v("Dominującym kierunkiem wiatru był: "+e._s(e.responseMax.value)+e._s(e.responseMax.unit))])]):e._e()])])},ke=[],ze=(n("20d6"),{name:"ArchivesForm",components:{},props:{sensorsNames:Array},data:function(){return{url:"",sensorIndex:0,year:2018,useMonth:!0,month:1,useDay:!0,day:1,useHour:!0,hour:1,isResponse:!1,responseMax:[],responseMin:[],responseAvg:[],responseSum:[],responsePeriod:"",JSONerror:!1,windDirectionIndex:-1,rainIndex:-1}},methods:{formSend:function(e){this.rainIndex=this.sensorsNames.findIndex(function(e){return"Opady"==e}),this.windDirectionIndex=this.sensorsNames.findIndex(function(e){return"Kierunek wiatru"==e}),this.isResponse=!1,this.JSONerror=!1;var t=new Date,n=new Date(this.year,this.month-1,this.day,this.hour);if(t-n<0)return this.JSONerror=!0,null;var r="http://wachcio.pl/meteo_vue/API/GetJSON.php?year="+this.year+"&sensor="+this.sensorIndex;this.responsePeriod=this.year,this.useMonth&&(r+="&month="+this.month,this.responsePeriod+="-"+this.month),this.useDay&&(r+="&day="+this.day,this.responsePeriod+="-"+this.day),this.useHour&&(r+="&hour="+this.hour,this.responsePeriod+=" godzina "+this.hour),this.url=r,this.getJSON()},getJSON:function(){var e=this;this.isResponse=!1,this.sensorIndex==this.rainIndex&&c.a.get(this.url+"&operation=sum").then(function(t){return e.responseSum=t.data}),c.a.get(this.url+"&operation=max").then(function(t){return e.responseMax=t.data}),c.a.get(this.url+"&operation=min").then(function(t){return e.responseMin=t.data}),c.a.get(this.url+"&operation=avg").then(function(t){return e.responseAvg=t.data}).then(this.isResponse=!0)},selectedClick:function(){this.rainIndex=this.sensorsNames.findIndex(function(e){return"Opady"==e}),this.windDirectionIndex=this.sensorsNames.findIndex(function(e){return"Kierunek wiatru"==e})}},computed:{},created:function(){var e=new Date;this.year=e.getFullYear(),this.month=e.getMonth()+1,this.day=e.getDate(),this.hour=e.getHours(),this.rainIndex=this.sensorsNames.findIndex(function(e){return"Opady"==e}),this.windDirectionIndex=this.sensorsNames.findIndex(function(e){return"Kierunek wiatru"==e})},watch:{useMonth:function(e,t){0==e&&(this.useDay=!1,this.useHour=!1)},useDay:function(e,t){0==e&&(this.useHour=!1)}}}),Ce=ze,je=(n("1bc8"),Object(w["a"])(Ce,ge,ke,!1,null,"5d74db72",null));je.options.__file="ArchivesForm.vue";var xe=je.exports,Se={name:"ArchivesMain",props:{},components:{ArchivesForm:xe},data:function(){return{sensorsNames:[],endpointNames:"http://wachcio.pl/meteo_test/API/GetJSON.php?getSensorName=all"}},computed:Object(i["a"])({},Object(P["e"])(["sensorsCurrent","isLoaded","showInfo","sensorActive"])),methods:Object(i["a"])({},Object(P["d"])(["updateSensorsCurrent","isLoadedChange"]),Object(P["b"])(["getCurrentJSON"])),created:function(){var e=this;0==this.sensorsNames.length&&c.a.get(this.endpointNames).then(function(t){return e.sensorsNames=t.data}).then(this.$store.commit("isLoadedChange",!0))}},Oe=Se,Ie=(n("fed7"),Object(w["a"])(Oe,_e,be,!1,null,null,null));Ie.options.__file="ArchivesMain.vue";var Ne=Ie.exports,De={name:"app",props:{endpointCurrent:String},data:function(){return{}},components:{SensorCategory:oe,Nav:pe,Preloader:we,ArchivesMain:Ne,AnimateCSS:ne},created:function(){window.addEventListener("scroll",this.handleScroll),this.refreshData(),this.timer()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},watch:{},computed:Object(i["a"])({},Object(P["e"])(["sensorsCurrent","isLoaded","showInfo"])),getters:Object(i["a"])({},Object(P["c"])(["winDirectionIndex"])),methods:Object(i["a"])({},Object(P["d"])(["updateSensorsCurrent"]),Object(P["b"])(["getCurrentJSON"]),{handleScroll:function(e){this.showInfo&&this.$store.commit("showInfo",!1)},timer:function(){},refreshData:function(){this.$store.dispatch("getCurrentJSON"),setTimeout(this.refreshData,6e4)},checkWindSpeed0:function(){var e=!0,t=!1,n=void 0;try{for(var r,s=this.sensorsCurrent[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var a=r.value;if("Prędkość wiatru km/h"==a.sensorName&&0==a.valueCurrent.value){var o=!0,i=!1,u=void 0;try{for(var c,l=this.sensorsCurrent[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var d=c.value;"Kierunek wiatru"==d.sensorName&&(d.valueCurrent.value="bezwietrznie",d.picture="assets/strzalka_przezroczysta.png")}}catch(p){i=!0,u=p}finally{try{o||null==l.return||l.return()}finally{if(i)throw u}}}}}catch(p){t=!0,n=p}finally{try{e||null==s.return||s.return()}finally{if(t)throw n}}}})},Ae=De,Me=(n("5c0b"),Object(w["a"])(Ae,a,o,!1,null,null,null));Me.options.__file="App.vue";var Pe=Me.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("h1",[e._v("Garść informacji o projekcie")]),n("p"),n("p",[e._v("System zbierania danych z kilkudziesięciu czujników. Zaczął powstawać w maju 2016 roku. Strona typu SPA powstaje od grudnia 2018 przy pomocy framework-a Vue.")]),e._m(0),e._m(1),e._m(2),n("p",[e._v("Kolejną małą częścią projektu stało się urządzenie oparte o znany moduł wi-fi ESP8266 do którego podłączyłem czujnik temperatury DS18B20 w hermetcznej obudowie i umieściłem w akwarium. On również wysyła swoje dane do Nettemp-a.")]),n("p",[e._v("Następnie pojawił się u mnie kolejny Raspberry Pi z oprogramowaniem jak ten pierwszy, który monitoruje temperatury w studni oraz garażu")]),e._m(3),n("p",[e._v("Dane z wszystkich opisanych powyżej części systemu trafiają co minutę do bazy danych MySQL umieszczonej na zewnętrznym serwerze. Odbywa się to za pośrednictwem napisanych przeze mnie skryptów PHP. Dopiero z tej bazy poprzez mój mini system Rest API czerpie informacje ta strona. Jeśli jest problem z danym czujnikiem i z jakiegoś powodu dane są starsze niż 5 minut sygnalizowane to jest czerwoną obwódką wokół ikony czujnika. Po kliknięciu na czujnik pokazują się bardziej szczegółowe informacje. Natomist kliknięcie na tytuł kategorii powoduje jej ukrycie lub pokazanie.")]),n("p",[e._v("W zakładce `Odczyty archiwalne` można uzyskać podstawowe dane statystyczne (odczyt maksymalny, minimalny, średni i w niektórych wypadkach sumę) z czujników w danym przedziale czasowym: rok, miesiąc, dzień i godzina")]),n("div",{staticClass:"sliderContainer"},[n("div",{staticClass:"sliderWrapper"},[n("vue-flux",{ref:"slider",attrs:{options:e.fluxOptions,images:e.fluxImages,transitions:e.fluxTransitions}},[n("flux-controls",{attrs:{slot:"controls"},slot:"controls"}),n("flux-pagination",{attrs:{slot:"pagination"},slot:"pagination"})],1)],1)])])},$e=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\r\n      Od jakiegoś czasu działał u mnie minikomputer Raspberry Pi z zainstalowanym Raspianem oraz systemem monitoringu temperatury (i nie tylko)\r\n      "),n("a",{attrs:{href:"https://techfreak.pl/nettemp/",target:"_blank"}},[e._v("Nettemp")]),e._v(" autorstwa techfreak. Mierzy on temperatury w kotłowni i na zewnątrz budynku za pomocą czujników DS18B20 oraz DHT22 (bardzo słabe i zawodne).\r\n    ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\r\n      Po kilku miesiącach zacząłem myśleć nad własną stacją pogody która mogła by oprócz temperatur mierzyła by również inne parametry i co najważniejsze była mojego autorstwa. Dzięki pomocy ze strony forum\r\n      "),n("a",{attrs:{href:"https://forum.atnel.pl/portal.php",target:"_blank"}},[e._v("Atnel")]),e._v(" oraz kanałowi YouTube\r\n      "),n("a",{attrs:{href:"https://www.youtube.com/channel/UC9helAwUtau_y4qyTcSR4Tg",target:"_blank"}},[e._v("Atnel - mirekk36")]),e._v(" zaprojektowałem a następnie polutowałem urządzenie i zaprogramowałem w języku C mikrokontroler Atmega 32A który jest `sercem` stacji meteo. Stacja zbiera informacje z czujników: temperatury (DS18B20, BMP180, SHT21), wilgotności (SHT21), ciśnienia (BMP180), wiatru, opadów oraz nasłonecznienia (BH1750).\r\n    ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\r\n      Zachęcony udaną budową stacji złożyłem projekt firmy\r\n      "),n("a",{attrs:{href:"https://www.atnel.pl/",target:"_blank"}},[e._v("Atnel")]),e._v(" opisany w żółtej książce Mirosława Kardasia czyli zegar w dwóch sztukach. Po modyfikacjach oprogramowania zegary znajdujące się w salonie oraz sypialni wysyłają dane do Raspberry Pi który zapisuje je w zewnętrznej bazie danych.\r\n    ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\r\n      Ostatnim elementem `układanki` jest odpytywanie bazy danych\r\n      "),n("a",{attrs:{href:"https://airly.eu/pl/",target:"_blank"}},[e._v("Airly")]),e._v(" o dane z czujnika jakości powietrza znajdującego się w mojej miejscowości.\r\n    ")])}],He=n("fcb2"),Je={name:"About",data:function(){return{fluxOptions:{autoplay:!0,height:"auto"},fluxImages:["http://wachcio.pl/meteo_vue/assets/slider/meteo1.png","http://wachcio.pl/meteo_vue/assets/slider/meteo2.png","http://wachcio.pl/meteo_vue/assets/slider/meteo3.png","http://wachcio.pl/meteo_vue/assets/slider/meteo4.png","http://wachcio.pl/meteo_vue/assets/slider/IMG_5905.jpg","http://wachcio.pl/meteo_vue/assets/slider/IMG_5925.jpg"],fluxCaptions:["","","","","Widok czujników stacji meteo",""],fluxTransitions:{transitionRound2:He["Transitions"].transitionRound2}}},components:{VueFlux:He["VueFlux"],FluxPagination:He["FluxPagination"],FluxControls:He["FluxControls"],FluxCaption:He["FluxCaption"]}},Le=Je,Ee=(n("c5a9"),Object(w["a"])(Le,Te,$e,!1,null,"dc23b230",null));Ee.options.__file="About.vue";var Fe=Ee.exports,Ke=[{path:"/",redirect:"/current"},{path:"/current",component:oe},{path:"/archive",component:Ne},{path:"/about",component:Fe}],Re=n("2ef0"),We=n.n(Re);r["a"].use(P["a"]);var Ve=new P["a"].Store({state:{endpoints:{endpointCurrent:"http://wachcio.pl/meteo_vue/API/GetJSON.php?data=current",endpointNames:"http://wachcio.pl/meteo_test/API/GetJSON.php?getSensorName=all"},sensorsCurrent:[],isLoaded:!1,showInfo:!1,currentDate:void 0,sensorActive:void 0},getters:{},mutations:{updateSensorsCurrent:function(e,t){e.sensorsCurrent=t;var n=We.a.findIndex(e.sensorsCurrent,{sensorName:"Prędkość wiatru km/h"}),r=We.a.findIndex(e.sensorsCurrent,{sensorName:"Kierunek wiatru"});0==e.sensorsCurrent[n].valueCurrent.value&&(e.sensorsCurrent[r].valueCurrent.value="bezwietrznie",e.sensorsCurrent[r].picture="assets/strzalka_przezroczysta.png"),e.isLoaded=!0},isLoadedChange:function(e,t){e.isLoaded=t},timer:function(e,t){e.currentDate=t},showInfo:function(e,t){e.showInfo=t},sensorActive:function(e,t){e.sensorActive=t},changeWindSpeedIndex:function(e,t){e.WindSpeedIndex=t}},actions:{getCurrentJSON:function(e){e.commit("isLoadedChange",!1),c.a.get(e.state.endpoints.endpointCurrent).then(function(t){return e.commit("updateSensorsCurrent",t.data)})}}}),Ge=new s["a"]({routes:Ke});r["a"].use(s["a"]),r["a"].config.productionTip=!1,new r["a"]({el:"#app",store:Ve,router:Ge,render:function(e){return e(Pe,{props:{endpointCurrent:"http://wachcio.pl/meteo_vue/API/GetJSON.php?data=current"}})}})},"595d":function(e,t,n){"use strict";var r=n("2291"),s=n.n(r);s.a},"5c0b":function(e,t,n){"use strict";var r=n("458f"),s=n.n(r);s.a},"68ed":function(e,t,n){},"8b8b":function(e,t,n){},"8d2d":function(e,t,n){},9784:function(e,t,n){"use strict";var r=n("8b8b"),s=n.n(r);s.a},"9c31":function(e,t,n){},a513:function(e,t,n){},a944:function(e,t,n){e.exports=n.p+"img/preloader.65c498c9.png"},c5a9:function(e,t,n){"use strict";var r=n("e9c5"),s=n.n(r);s.a},cd1e:function(e,t,n){"use strict";var r=n("8d2d"),s=n.n(r);s.a},d593:function(e,t,n){"use strict";var r=n("4a14"),s=n.n(r);s.a},d7a8:function(e,t,n){},e7eb:function(e,t,n){},e84a:function(e,t,n){},e9c5:function(e,t,n){},ef8f:function(e,t,n){"use strict";var r=n("68ed"),s=n.n(r);s.a},f165:function(e,t,n){"use strict";var r=n("5094"),s=n.n(r);s.a},f65f:function(e,t,n){"use strict";var r=n("e84a"),s=n.n(r);s.a},fed7:function(e,t,n){"use strict";var r=n("0db7"),s=n.n(r);s.a}});